# Check file exists

I intend to work on a dataset from a local file named imdb_top_1000.csv.
Please write the code that checks that the file exists

# Let's load the data


> pandas dataframe


```python
import pandas as pd
df = pd.read_csv('imdb_top_1000.csv')
```

```prompt
Load the data from the file imdb_top_1000.csv into a pandas dataframe
```

# Data exploration

We want to know a few things.

- how many rows,
- what are the columns ?
- what type of data do we have ?
- inspect a few rows ?

```prompt
Using the existing dataframe df, please show

- how many rows,
- what are the columns
- what type of data
- a few rows
```



the function `df.dtypes` showed 3 sorts of data types : object, float64 and int64.

Floats and Ints are for numbers.

# But what are objects ?

Let's ask Gemini

```prompt
Certain columns of the dataframe have the type object.

please explain what is the type object?

Keep it concise and simple.
```
# distributions of numerical variables : histograms


```prompt
please create histograms for the numerical columns.

Make sure the number of bins is optimized
```

We may get an error: ValueError: cannot convert float NaN to integer
Which means missing values

We can explain the error
and generate new code

# pretty graph

```prompt
Improve the graph by using a standard journalistic style such as The Economist
```

-> matplotlib

# Dataviz libs

what other libs are available

```prompt
what other graphic library can you use to visualize histograms so that the results looks more print media than online page
```

## With seaborn

```prompt
display the histogram of the numerical columns using seaborn

- handle missing values in the data
- make sure the bins are optimal
- use a print media type style (538, economist, ...)
```

# Movie Genre

```prompt
I would like to know the number of movies per genre.

The Genre column can contain multiple genres separated by a comma.
For instance: 'Action, Crime, Drama'

- Count the number of movies per genre.
- Sort the genre by number of movies descending

Output format:

Action: 22
Drama: 15
...
```


# Cross assocciation

```prompt
What are the most common genre associated with Adventure
```

# Some NLP


Next we can ask the LLM to carry out some analysis of the text, the description of the movie is called 'Overview'.

A classic NLP task is to extract Named entities. Names of persons, places, organizations, countries etc


A good library for that sort of task is called [spacy](https://spacy.io)


Let's ask the LLM to extract the named entities from the Overview field.

```prompt
Using the spacy library

Please extract the Named entities from the Overview column.

- only extract the locations and persons
- Save the results as a new column 'NER'
```


What do we have in the new column ?

# Extract Location

```prompt
Using the spacy library (already installed)

Please extract the Named entities from the Overview column.

- only extract the locations
- Save the results as a new column 'locations'
- only save the location name separated by commas not the NER type.
For instance: London, Paris
Not: [(London, GPE), (Paris, GPE)]
```


show most common locations

```python
df['locations'].value_counts().head(20)
```

## Noun Phrases

```prompt
please extract the noun phrases of each movie Overview

- save the results in a column : nounphrase
```


# co occurences of genres


```prompt
Can you create a co occurence network visualisation of genres.
Save the graph as a .png file
```

# Save the dataframe


```prompt
Save the dataframe df to a csv file titled `imdb_1000_extended.csv`
```
